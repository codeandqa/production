(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(51)},36:function(e,t,a){},38:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),c=a.n(i),o=a(55),l=(a(36),a(2)),s=a(3),m=a(5),u=a(4),p=a(6),d=a(57),b=a(56),h=(a(38),a(9)),f="FETCH_BEERS",v="FETCHING_BEERS",E="FETCH_MORE_BEERS",g="SEARCH_BEERS",y="HANDLE_FAVOURITE_BEER",O="DISPLAY_BEER",j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){t({type:v,payload:{isLoading:!0}});var a="https://api.punkapi.com/v2/beers?page=".concat(e);fetch(a).then(function(e){return e.json()}).then(function(a){return t({type:f,payload:{beers:a,page:e,isLoading:!1}})})}},N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onSearch=function(e){var t=e.target.value;a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(function(){return a.handleSearch(t)},500)},a.handleSearch=function(e){0!==e.length?a.props.searchBeers(e):a.props.fetchBeers()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.timeout=null}},{key:"render",value:function(){return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col-md-6 col-sm-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search for beer name",value:this.props.beerName,onInput:this.onSearch}))))}}]),t}(n.Component),w=Object(h.b)(null,{searchBeers:function(e){return function(t){t({type:v,payload:{isLoading:!0}});var a="https://api.punkapi.com/v2/beers?beer_name=".concat(e);fetch(a).then(function(e){return e.json()}).then(function(e){t({type:g,payload:{beers:e,isLoading:!1}})})}},fetchBeers:j})(N),k=a(15),B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isFavourite=function(){return-1!==a.props.favourites.indexOf(a.props.beer)},a.handleFavourite=function(e){e.stopPropagation(),a.props.handleFavourite(a.props.beer)},a.handleDetail=function(){a.props.onDetail(a.props.beer)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"beer-item col-12 col-sm-6 col-md-4 p-3 text-center",key:this.props.beer.id,onClick:this.handleDetail},r.a.createElement("div",{className:"details bg-white p-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{className:"btn btn-link btn-fav float-right "+(this.isFavourite()?"active":""),onClick:this.handleFavourite},r.a.createElement(k.a,{icon:"star"})))),r.a.createElement("div",{className:"row my-1"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:this.props.beer.image_url,alt:this.props.beer.name,className:"beer-thumbnail"}))),r.a.createElement("h5",{className:"text-warning font-weight-bold"},this.props.beer.name),r.a.createElement("p",{className:"text-muted"},this.props.beer.tagline)))}}]),t}(n.Component),L=Object(h.b)(function(e){return{favourites:e.beer.favourites}},{handleFavourite:function(e){return function(t){return t({type:y,payload:{beer:e}})}}})(B),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).renderFoodPairing=function(){return a.props.beer.food_pairing.map(function(e,t){return r.a.createElement("li",{key:t},e)})},a.renderSimilarBeers=function(){return a.props.beer.similar.map(function(e){return r.a.createElement("div",{className:"col-lg-4 text-center",key:e.id},r.a.createElement("div",{className:"similar-beer m-1 p-3"},r.a.createElement("img",{src:e.image_url,alt:"",className:"img-fluid d-block mx-auto"}),r.a.createElement("h6",{className:"font-weight-bold text-muted my-3"},e.name)))})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-body py-3"},r.a.createElement("button",{type:"button",className:"close",onClick:this.props.onClose},"\xd7"),r.a.createElement("div",{className:"row p-2 beer-detail"},r.a.createElement("div",{className:"col-lg-3 mb-2 p-2"},r.a.createElement("img",{src:this.props.beer.image_url,alt:this.props.beer.name,className:"img-fluid d-block mx-auto"})),r.a.createElement("div",{className:"col-lg-9 p-2"},r.a.createElement("h3",{className:"text-warning font-weight-bold"},this.props.beer.name),r.a.createElement("h5",{className:"beer-tagline"},this.props.beer.tagline),r.a.createElement("div",{className:"divider my-2"}),r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("strong",null,"IBU:")," ",this.props.beer.ibu),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("strong",null,"ABV:")," ",this.props.beer.abv+"%"),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("strong",null,"EBC:")," ",this.props.beer.ebc)),r.a.createElement("p",{className:"my-3"},this.props.beer.description),r.a.createElement("h5",{className:"text-muted"},"Best served with:"),r.a.createElement("ul",null,this.props.beer.food_pairing&&this.renderFoodPairing()))),r.a.createElement("div",{className:"row align-items-center p-2"},r.a.createElement("div",{className:"col"},r.a.createElement("h4",{className:"my-2 text-warning"},"You might also like:"),r.a.createElement("div",{className:"row"},this.props.beer.similar&&this.renderSimilarBeers())))))}}]),t}(n.Component),C=a(28),F=a.n(C),S=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).displayDetails=function(t){e.props.displayBeer(t),e.openModal()},e.openModal=function(){e.setState({modalIsOpen:!0})},e.closeModal=function(){e.setState({modalIsOpen:!1})},e.state={modalIsOpen:!1,beer:{}},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"renderBeers",value:function(){var e=this;return 0===this.props.beers.length?r.a.createElement("div",{className:"col my-5 text-center"},r.a.createElement(k.a,{className:"beer-icon",icon:"beer",size:"5x"})):this.props.beers.map(function(t){return r.a.createElement(L,{key:t.id,beer:t,onDetail:e.displayDetails})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-eq-height py-5"},this.renderBeers())),r.a.createElement(F.a,{visible:this.state.modalIsOpen,onClickBackdrop:this.closeModal,className:"bd-example-modal-lg",dialogClassName:"modal-lg"},this.state.modalIsOpen&&!this.props.isLoading&&r.a.createElement(x,{beer:this.props.selected,onClose:this.closeModal})))}}]),t}(n.Component),_=Object(h.b)(function(e){return{selected:e.beer.selected,isLoading:e.isLoading}},{displayBeer:function(e){return function(t){t({type:v,payload:{isLoading:!0}});var a="https://api.punkapi.com/v2/beers?per_page=3&yeast=".concat(e.ingredients.yeast);fetch(a).then(function(e){return e.json()}).then(function(a){var n=e;n.similar=a,t({type:O,payload:{selected:n,isLoading:!1}})})}}})(S),I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onScroll=function(){a.props.isLoading||window.innerHeight+document.documentElement.scrollTop>document.documentElement.offsetHeight-20&&a.props.fetchMoreBeers(a.props.page)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.beers&&0===this.props.beers.length&&this.props.fetchBeers(this.props.page)}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"justify-content-center py-2 bg-warning text-center text-white"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",{className:"font-weight-bold"},"The Beer Bank"),r.a.createElement("p",null,"Find your favourite beer here"))),r.a.createElement(w,null))),r.a.createElement(_,{beers:this.props.beers}))}}]),t}(n.Component),M=Object(h.b)(function(e){return{beers:e.beer.beers,page:e.beer.page,isLoading:e.beer.isLoading}},{fetchBeers:j,fetchMoreBeers:function(e){return function(t){t({type:v,payload:{isLoading:!0}});var a="https://api.punkapi.com/v2/beers?page=".concat(e);fetch(a).then(function(e){return e.json()}).then(function(a){return t({type:E,payload:{beers:a,page:e,isLoading:!1}})})}}})(I),T=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"justify-content-center py-2 bg-warning text-center text-white"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",{className:"font-weight-bold"},"The Beer Bank"),r.a.createElement("p",null,"These are your favourite beers"))))),r.a.createElement(_,{beers:this.props.favourites}))}}]),t}(n.Component),A=Object(h.b)(function(e){return{favourites:e.beer.favourites}},{})(T),D=a(54),R=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand fixed-top navbar-dark bg-warning"},r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExample02"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(D.a,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(D.a,{className:"nav-link",to:"/favourite"},"Favourite")))))}}]),t}(n.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{exact:!0,path:"/",component:M}),r.a.createElement(b.a,{path:"/favourite",component:A})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(48),a(25),a(50);var W=a(11),P=a(30),U=a(18),J=a(12),V={beers:[],favourites:[],selected:{beer:{},similar:[]},page:1,isLoading:!1},Y=Object(W.c)({beer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(J.a)({},e,{beers:t.payload.beers,page:t.payload.page+1,isLoading:t.payload.isLoading});case v:return Object(J.a)({},e,{isLoading:t.payload.isLoading});case E:return Object(J.a)({},e,{beers:[].concat(Object(U.a)(e.beers),Object(U.a)(t.payload.beers)),page:t.payload.page+1,isLoading:t.payload.isLoading});case g:return Object(J.a)({},e,{beers:t.payload.beers,isLoading:t.payload.isLoading});case y:var a=Object(U.a)(e.favourites),n=t.payload.beer;return-1!==a.indexOf(n)?a=a.filter(function(e){return e!==n}):a.push(n),Object(J.a)({},e,{favourites:a});case O:return Object(J.a)({},e,{selected:t.payload.selected,isLoading:!1});default:return e}}}),q=[P.a],z=Object(W.e)(Y,{},Object(W.d)(W.a.apply(void 0,q))),G=a(14),$=a(22);G.b.add($.b,$.a),c.a.render(r.a.createElement(h.a,{store:z},r.a.createElement(o.a,null,r.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.55d8e12c.chunk.js.map